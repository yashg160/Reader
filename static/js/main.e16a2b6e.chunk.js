(this["webpackJsonpreader-react"]=this["webpackJsonpreader-react"]||[]).push([[0],{106:function(e,t,a){e.exports=a(119)},111:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(11),o=a.n(i),s=(a(111),a(16)),l=a(17),c=a(19),d=a(18),m=a(20),g=a(75),u=a(38),p=a(6),h=a.n(p),f=a(10),E=a(166),y=a(167),S=a(82),b=a(168),v=a(190),w=a(39),x=a.n(w),R=a(169),k=a(160),C=a(187),T=a(170),I=a(176),j=a(172),L=a(173),O=a(171),z=a(164),D=a(188),M=a(81),P=a.n(M),W=a(177),_=a(92),B=a(165),A=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{style:{marginTop:100}},n.a.createElement(k.a,{variant:"middle"}),n.a.createElement(S.a,{align:"center",variant:"body1",style:{marginTop:40,marginBottom:40}},"Reader blog app. Created by Yash Gupta November 2019."))}}]),t}(n.a.PureComponent),U=a(15),N=a.n(U),G=a(12),F=a.n(G),Y=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={loading:!0,dialogLoading:!1,error:!1,getStartedDialog:!1,signInDialog:!1,emailError:!1,emailErrorMessage:"",passwordError:!1,passwordErrorMessage:"",getStartedEmail:"",getStartedPassword:"",signInEmail:"",signInPassword:"",errorSnackbar:!1,successSnackbar:!1},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"validateEmail",value:function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/\S+@\S+\.\S+/.test(t)){e.next=3;break}throw Error("ERR_EMAIL");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"validatePassword",value:function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}/.test(t)){e.next=3;break}throw Error("ERR_PASSWORD");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"insertUserIntoTable",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N.a+"/users/signup",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:this.state.getStartedEmail,password:this.state.getStartedPassword})});case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,console.log(a),!a.error||"ERR_DUP_ENTRY"!=a.errorMessage){e.next=11;break}throw Error("ERR_DUP_ENTRY");case 11:if(!a.error){e.next=13;break}throw Error("ERR_UNKNOWN");case 13:r=a.user,F.a.set("userId",r.id,{expires:7}),F.a.set("userAuthenticated",r.authenticated,{expires:7}),F.a.set("profileComplete",!1,{expires:7});case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleGetStartedClick",value:function(){var e=this;console.log("Called handleGetStartedClick",this.state),this.setState({dialogLoading:!0,error:!1,emailError:!1,passwordError:!1,emailErrorMessage:""}),this.validateEmail(this.state.getStartedEmail).then((function(){return e.validatePassword(e.state.getStartedPassword)})).then((function(){return e.insertUserIntoTable()})).then((function(){console.log("User created successfully. Will proceed to next screen"),e.setState({dialogLoading:!1,getStartedDialog:!1,successSnackbar:!0}),e.props.history.push("/profile")})).catch((function(t){console.error(t),e.setState({errorSnackbar:!0}),"ERR_EMAIL"==t.message?e.setState({dialogLoading:!1,emailError:!0,emailErrorMessage:"Invalid Email"}):"ERR_PASSWORD"==t.message?e.setState({dialogLoading:!1,passwordError:!0}):"ERR_DUP_ENTRY"==t.message?e.setState({dialogLoading:!1,emailError:!0,emailErrorMessage:"Email already registered"}):e.setState({dialogLoading:!1})}))}},{key:"findUser",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N.a+"/users/signin?email=".concat(this.state.signInEmail,"&password=").concat(this.state.signInPassword),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,console.log(a),!a.error){e.next=9;break}throw Error(a.errorMessage);case 9:r=a.user,F.a.set("userId",r.id,{expires:7}),F.a.set("userAuthenticated",r.authenticated,{expires:7}),F.a.set("profileComplete",!1);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSignInClick",value:function(){var e=this;console.log("Called handleSignInClick"),this.setState({dialogLoading:!0,error:!1,emailError:!1,passwordError:!1,emailErrorMessage:"",passwordErrorMessage:""});var t=this.state.signInEmail;this.validateEmail(t).then((function(){return e.findUser()})).then((function(){console.log("Email and password were correct. Will proceed to next screen"),e.setState({dialogLoading:!1,signInDialog:!1,successSnackbar:!0}),e.props.history.push("/dashboard")})).catch((function(t){console.error(t),e.setState({errorSnackbar:!0}),"ERR_EMAIL"==t.message?e.setState({dialogLoading:!1,emailError:!0,emailErrorMessage:"Invalid Email"}):"ERR_SERVER"==t.message||"ERR_DUP_ACC"==t.message?e.setState({dialogLoading:!1}):"ERR_USER_EXISTS"==t.message?e.setState({dialogLoading:!1,emailError:!0,emailErrorMessage:"No such account exists"}):"ERR_PASSWORD"==t.message?e.setState({dialogLoading:!1,passwordError:!0,passwordErrorMessage:"Incorrect password. Try again"}):e.setState({dialogLoading:!1})}))}},{key:"componentDidMount",value:function(){this.setState({loading:!1})}},{key:"render",value:function(){var e=this,t=Object(_.a)({palette:{primary:{main:"#673ab7"},secondary:{light:"#828282",main:"#000",contrastText:"#fff"}},typography:{fontFamily:"Nunito"}});return this.state.loading?n.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:200}},n.a.createElement(z.a,{variant:"indeterminate",color:"secondary",size:40})):n.a.createElement(B.a,{theme:t},n.a.createElement("div",null,n.a.createElement(E.a,{position:"sticky",style:{backgroundColor:"white"}},n.a.createElement(y.a,{style:{paddingLeft:80,paddingRight:80}},n.a.createElement(S.a,{variant:"h6",style:{flex:1,color:"black"},onClick:function(){return e.props.history.push("/dashboard")}},"Reader"),n.a.createElement(b.a,{color:"default",style:{textTransform:"capitalize",fontSize:18}},"Write"),n.a.createElement(b.a,{color:"default",style:{marginRight:10,textTransform:"capitalize",fontSize:18},onClick:function(){return e.setState({signInDialog:!0})}},"Sign In"),n.a.createElement(b.a,{variant:"contained",color:"primary",style:{marginLeft:10,paddingTop:10,paddingBottom:10,paddingRight:20,paddingLeft:20,textTransform:"capitalize",fontSize:18},onClick:function(){return e.setState({getStartedDialog:!0})}},"Get Started"))),n.a.createElement("div",{style:{width:"100%",height:"auto",padding:"1rem 0 1rem 0",position:"sticky",backgroundColor:"rgba(255, 200, 200, 1)",display:"flex",alignItems:"center",justifyContent:"center",color:"rgb(200, 0,0)"}},n.a.createElement(S.a,{variant:"subtitle1",align:"center"},"Unfortunately, the API for this project has been deployed, but due to unavailability of the correct version of MySQL database with Heroku's ClearDB, some breaking changes were introduced in the project structure. Visit the ",n.a.createElement("a",{href:"https://github.com/yashg160/Reader"},"Github repository")," for more details and screenshots.")),n.a.createElement("div",{style:{marginLeft:120,marginRight:120}},n.a.createElement(S.a,{align:"center",variant:"h1",style:{marginTop:80}},"Read about what matters to you"),n.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap",marginTop:40,marginBottom:40}},["Entertainment","Faishon","Finance","Fitness","Relationship","Technology"].map((function(e){return n.a.createElement(v.a,{color:"secondary",icon:n.a.createElement(x.a,{color:"primary",fontSize:"large"}),label:n.a.createElement(S.a,{variant:"h6"},e),style:{margin:16,padding:32,borderRadius:32,boxShadow:"4px 4px 4px 4px rgba(0,0,0,0.4)"}})}))),n.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"auto",marginRight:"auto",marginTop:40,marginBottom:40}},n.a.createElement(S.a,{variant:"h5",align:"center"},"We offer a wide range of topics. Read anything you want.")),n.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"auto",marginRight:"auto",marginTop:40}},n.a.createElement(b.a,{variant:"contained",color:"primary",style:{paddingTop:20,paddingBottom:20,paddingLeft:100,paddingRight:100,textTransform:"capitalize",fontSize:24,borderRadius:30,boxShadow:"4px 4px 4px 4px rgba(0,0,0,0.2)"}},"Get Started")),n.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"auto",marginRight:"auto",marginTop:20,marginBottom:80}},n.a.createElement(S.a,{variant:"body1",align:"center",style:{fontSize:20}},"Already have an account? ",n.a.createElement(g.b,{to:"#"},"Sign In"))),n.a.createElement(k.a,{variant:"middle",style:{marginTop:100,marginBottom:100,height:"4px",marginLeft:"auto",marginRight:"auto"}}),n.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap",marginTop:100,marginBottom:40}},n.a.createElement(v.a,{color:"primary",variant:"outlined",icon:n.a.createElement(x.a,{fontSize:"large"}),label:n.a.createElement(S.a,{variant:"h6"},"Many Topics"),style:{margin:16,padding:32,borderRadius:32,boxShadow:"2px rgba(0,0,0,0.6)"}}),n.a.createElement(v.a,{color:"primary",variant:"outlined",icon:n.a.createElement(x.a,{fontSize:"large"}),label:n.a.createElement(S.a,{variant:"h6"},"Free Reading"),style:{margin:16,padding:32,borderRadius:32}}),n.a.createElement(v.a,{color:"primary",variant:"outlined",icon:n.a.createElement(x.a,{fontSize:"large"}),label:n.a.createElement(S.a,{variant:"h6"},"Free Writing"),style:{margin:16,padding:32,borderRadius:32}}),n.a.createElement(v.a,{icon:n.a.createElement(x.a,{fontSize:"large"}),label:n.a.createElement(S.a,{variant:"h5"},"On Reader, all for you."),style:{margin:20,padding:36,borderRadius:36,backgroundColor:"transparent"}})),n.a.createElement("div",{style:{marginTop:120,marginBottom:40}},n.a.createElement(S.a,{variant:"h2"},"No ads. Ever."),n.a.createElement(S.a,{variant:"h6"},"We don't sell your data or target you with ads.")),n.a.createElement(R.a,{container:!0,direction:"row",style:{marginTop:100,marginBottom:100}},n.a.createElement(R.a,{container:!0,item:!0,alignItems:"center",justify:"center",xs:12,md:6},n.a.createElement(b.a,{variant:"contained",color:"primary",style:{paddingTop:20,paddingBottom:20,paddingLeft:100,paddingRight:100,fontSize:24,textTransform:"capitalize",borderRadius:30,boxShadow:"4px 4px 4px 4px rgba(0,0,0,0.2)"}},"Get Started")),n.a.createElement(R.a,{container:!0,item:!0,alignItems:"center",justify:"center",xs:12,md:6},n.a.createElement(S.a,{variant:"h4",align:"center"},"We are different than others"),n.a.createElement(S.a,{variant:"body1",align:"center",style:{marginTop:40,fontSize:20}},"Reader is not like any other platform on the internet. Our sole purpose is to help you find compelling ideas, knowledge, and perspectives. We don\u2019t serve ads\u2014we serve you, the curious reader who loves to learn new things. Reader is home to thousands of independent voices, and we combine humans and technology to find the best reading for you\u2014and filter out the rest."))),n.a.createElement(k.a,{variant:"middle",style:{marginTop:100,marginBottom:100,height:"4px",marginLeft:"auto",marginRight:"auto"}}),n.a.createElement("div",{style:{marginTop:80,marginBottom:80}},n.a.createElement(S.a,{align:"center",variant:"h1",style:{marginTop:20}},"Expand your reading."),n.a.createElement(S.a,{align:"center",variant:"h1",style:{marginTop:20,marginBottom:20}},"Expand your mind."))),n.a.createElement(A,null),n.a.createElement(T.a,{open:this.state.getStartedDialog,onClose:function(){return e.setState({getStartedDialog:!1})},onExited:function(){return e.setState({emailError:!1,emailErrorMessage:"",passwordError:!1,passwordErrorMessage:""})},"aria-labelledby":"form-dialog-title"},n.a.createElement(R.a,{container:!0,direction:"column",align:"center",justify:"center"},n.a.createElement(R.a,{item:!0,xs:12},n.a.createElement(O.a,{id:"form-dialog-title"},"Get Started")),n.a.createElement(R.a,{item:!0,xs:12},n.a.createElement(j.a,null,n.a.createElement(L.a,{style:{display:"flex",margin:"auto",justifyContent:"center",alignItems:"center"}},"You need an account to read and write blogs. Please enter a valid email and a password. Your password is safe with us. We promise."),n.a.createElement(C.a,{autoFocus:!0,margin:"dense",id:"email-getstarted",label:"Email",type:"email",fullWidth:!0,error:this.state.emailError,helperText:this.state.emailErrorMessage,disabled:this.state.dialogLoading,onChange:function(t){return e.setState({getStartedEmail:t.target.value})}}),n.a.createElement(C.a,{margin:"dense",id:"password-getstarted",label:"Password",type:"password",fullWidth:!0,error:this.state.passwordError,disabled:this.state.dialogLoading,onChange:function(t){return e.setState({getStartedPassword:t.target.value})},helperText:"At least 6 characters, one uppercase and one lowercase"})))),n.a.createElement(I.a,null,n.a.createElement(b.a,{onClick:function(){return e.setState({getStartedDialog:!1})},variant:"text",color:"default",style:{textTransform:"capitalize",fontSize:18}},"Cancel"),n.a.createElement(b.a,{onClick:function(){return e.setState({getStartedDialog:!1})},variant:"contained",color:"primary",style:{textTransform:"capitalize",color:"white",fontSize:18,padding:10}},"Sign Up"))),n.a.createElement(T.a,{open:this.state.signInDialog,onClose:function(){return e.setState({signInDialog:!1})},onExited:function(){return e.setState({emailError:!1,emailErrorMessage:"",passwordError:!1,passwordErrorMessage:""})},"aria-labelledby":"form-dialog-title"},n.a.createElement(R.a,{container:!0,direction:"column",align:"center",justify:"center"},n.a.createElement(R.a,{item:!0,xs:12},n.a.createElement(O.a,{id:"form-dialog-title"},"Sign In")),n.a.createElement(R.a,{item:!0,xs:12},n.a.createElement(j.a,null,n.a.createElement(L.a,{style:{display:"flex",margin:"auto",justifyContent:"center",alignItems:"center"}},"You must already have an account to sign in. Please enter your email id and password. If you don't have an account, then sign up."),n.a.createElement(C.a,{autoFocus:!0,margin:"dense",id:"username-signin",label:"Username",type:"text",fullWidth:!0,error:this.state.emailError,helperText:this.state.emailErrorMessage,disabled:this.state.dialogLoading,onChange:function(t){return e.setState({signInEmail:t.target.value})}}),n.a.createElement(C.a,{margin:"dense",id:"password-signin",label:"Password",type:"password",fullWidth:!0,error:this.state.passwordError,helperText:this.state.passwordErrorMessage,disabled:this.state.dialogLoading,onChange:function(t){return e.setState({signInPassword:t.target.value})}})))),n.a.createElement(I.a,null,n.a.createElement(b.a,{onClick:function(){return e.setState({signInDialog:!1})},variant:"text",color:"default",style:{textTransform:"capitalize",fontSize:18,padding:10}},"Cancel"),n.a.createElement(b.a,{onClick:function(){return e.setState({signInDialog:!1})},variant:"contained",color:"primary",style:{textTransform:"capitalize",color:"white",fontSize:18,padding:10}},"Sign In"))),n.a.createElement(D.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.errorSnackbar,autoHideDuration:3e3,onClose:function(){return e.setState({errorSnackbar:!1})},message:n.a.createElement(S.a,{variant:"body1"},"An error occurred"),action:[n.a.createElement(W.a,{key:"close","aria-label":"closse",color:"default",onClick:function(){return e.setState({errorSnackbar:!1})}},n.a.createElement(P.a,{color:"#fff"}))]}),n.a.createElement(D.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.successSnackbar,autoHideDuration:3e3,onClose:function(){return e.setState({successSnackbar:!1})},message:n.a.createElement(S.a,{variant:"body1"},"Success!"),action:[n.a.createElement(W.a,{key:"close","aria-label":"closse",color:"default",onClick:function(){return e.setState({successSnackbar:!1})}},n.a.createElement(P.a,{color:"#fff"}))]})))}}]),t}(n.a.Component),H=a(179),J=a(93),V=a(189),K=a(178),Q=a(180),X=a(181),Z=a(182),$=a(21),q=a.n($),ee=a(120),te=(n.a.Component,a(53)),ae=(n.a.Component,a(174)),re=(n.a.Component,n.a.Component,n.a.Component,a(183)),ne=a(184),ie=a(186),oe=a(185),se=(n.a.Component,function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement(g.a,null,n.a.createElement(u.c,null,n.a.createElement(u.a,{path:"/",component:Y})))}}]),t}(n.a.PureComponent));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},15:function(e,t){e.exports="http://my-reader-api.herokuapp.com"}},[[106,1,2]]]);
//# sourceMappingURL=main.e16a2b6e.chunk.js.map